(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function n(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function r(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function i(e,t){return e.get(s(e,t))}function o(e,t,n){return e.set(s(e,t),n),n}function s(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var u,a,c,l=new WeakMap,f=new WeakMap,p=new WeakMap,y=new WeakMap,m=new WeakMap,h=new WeakMap,v=new WeakMap,d=new WeakMap,b=new WeakMap,E=new WeakMap,g=new WeakMap,x=new WeakMap,w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,l,void 0),n(this,f,void 0),n(this,p,void 0),n(this,y,void 0),n(this,m,void 0),n(this,h,void 0),n(this,v,void 0),n(this,d,void 0),n(this,b,void 0),n(this,E,void 0),n(this,g,void 0),n(this,x,void 0)}return r=e,(s=[{key:"setSuccess",value:function(e){return o(l,this,this.setter(e,"Success")),this}},{key:"setGrossIncome",value:function(e){return o(f,this,this.setter(e,"GrossIncome")),this}},{key:"setExpense",value:function(e){return o(p,this,this.setter(e,"expense")),this}},{key:"setOperatingProfit",value:function(e){return o(y,this,this.setter(e,"OperatingProfit")),this}},{key:"setStaticExpense",value:function(e){return o(m,this,this.setter(e,"StaticExpense")),this}},{key:"setDynamicExpense",value:function(e){return o(h,this,this.setter(e,"DynamicExpense")),this}},{key:"setOneTimeExpense",value:function(e){return o(v,this,this.setter(e,"OneTimeExpense")),this}},{key:"setReturnNpExpense",value:function(e){return o(d,this,this.setter(e,"ReturnNpExpense")),this}},{key:"setCommissionNvExpense",value:function(e){return o(b,this,this.setter(e,"CommissionNvExpense")),this}},{key:"setReturnUpExpense",value:function(e){return o(E,this,this.setter(e,"ReturnUpExpense")),this}},{key:"setAdsExpense",value:function(e){return o(g,this,this.setter(e,"AdsExpense")),this}},{key:"setCostPrice",value:function(e){return o(x,this,this.setter(e,"CostPrice")),this}},{key:"success",get:function(){return i(l,this)}},{key:"grossIncome",get:function(){return i(f,this)}},{key:"expense",get:function(){return i(p,this)}},{key:"operatingProfit",get:function(){return i(y,this)}},{key:"staticExpense",get:function(){return i(m,this)}},{key:"dynamicExpense",get:function(){return i(h,this)}},{key:"oneTimeExpense",get:function(){return i(v,this)}},{key:"returnNpExpense",get:function(){return i(d,this)}},{key:"commissionNvExpense",get:function(){return i(b,this)}},{key:"returnUpExpense",get:function(){return i(E,this)}},{key:"adsExpense",get:function(){return i(g,this)}},{key:"costPrice",get:function(){return i(x,this)}},{key:"setter",value:function(t,n){if(""!==(null==t?void 0:t.trim())&&Number.parseInt(null==t?void 0:t.trim())>-1)return Number.parseInt(null==t?void 0:t.trim());throw new Error("".concat(e.ERROR," ").concat(n))}},{key:"toObject",value:function(){return{success:this.success,grossIncome:this.grossIncome,expense:this.expense,operatingProfit:this.operatingProfit,staticExpense:this.staticExpense,dynamicExpense:this.dynamicExpense,oneTimeExpense:this.oneTimeExpense,returnNpExpense:this.returnNpExpense,commissionNvExpense:this.commissionNvExpense,returnUpExpense:this.returnUpExpense,adsExpense:this.adsExpense,costPrice:this.costPrice}}}])&&t(r.prototype,s),u&&t(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,u}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function P(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}function O(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function N(e,t){return e.get(A(e,t))}function j(e,t,n){return e.set(A(e,t),n),n}function A(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}u=w,c="Поле не заполнено или неверный тип данных! Поле:",(a=r(a="ERROR"))in u?Object.defineProperty(u,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[a]=c;var I=new WeakMap,T=new WeakMap,M=function(){return function(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,I,null!==(t=JSON.parse(localStorage.getItem("oldData")))&&void 0!==t?t:{}),O(this,T,null!==(n=JSON.parse(localStorage.getItem("newData")))&&void 0!==n?n:{})},[{key:"save",value:function(e){if("new"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"old"))return localStorage.setItem("newData",JSON.stringify(e.toObject())),void j(T,this,e.toObject());localStorage.setItem("oldData",JSON.stringify(e.toObject())),j(I,this,e.toObject())}},{key:"getData",value:function(){return"new"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"old")?JSON.parse(localStorage.getItem("newData")):JSON.parse(localStorage.getItem("oldData"))}},{key:"setInputData",value:function(){var e,t,n,r,i,o,s,u,a,c,l,f,p,y,m,h,v;Object.keys(N(I,this)).length>0&&(document.body.querySelector('input[name="success"]').value=null!==(e=N(I,this).success)&&void 0!==e?e:0,document.body.querySelector('input[name="grossIncome"]').value=null!==(t=N(I,this).grossIncome)&&void 0!==t?t:0,document.body.querySelector('input[name="expense"]').value=null!==(n=N(I,this).expense)&&void 0!==n?n:0,document.body.querySelector('input[name="operatingProfit"]').value=null!==(r=N(I,this).operatingProfit)&&void 0!==r?r:0,document.body.querySelector('input[name="staticExpense"]').value=null!==(i=N(I,this).staticExpense)&&void 0!==i?i:0,document.body.querySelector('input[name="dynamicExpense"]').value=null!==(o=N(I,this).dynamicExpense)&&void 0!==o?o:0,document.body.querySelector('input[name="oneTimeExpense"]').value=null!==(s=N(I,this).oneTimeExpense)&&void 0!==s?s:0,document.body.querySelector('input[name="returnNpExpense"]').value=null!==(u=N(I,this).returnNpExpense)&&void 0!==u?u:0,document.body.querySelector('input[name="commissionNvExpense"]').value=null!==(a=N(I,this).commissionNvExpense)&&void 0!==a?a:0,document.body.querySelector('input[name="returnUpExpense"]').value=null!==(c=N(I,this).returnUpExpense)&&void 0!==c?c:0,document.body.querySelector('input[name="adsExpense"]').value=null!==(l=N(I,this).adsExpense)&&void 0!==l?l:0,document.body.querySelector('input[name="costPrice"]').value=null!==(f=N(I,this).costPrice)&&void 0!==f?f:0);Object.keys(N(T,this)).length>0&&(document.body.querySelector('input[name="days"]').value=null!==(p=N(T,this).days)&&void 0!==p?p:0,document.body.querySelector('input[name="profitBefore"]').value=null!==(y=N(T,this).crmProfitBefore)&&void 0!==y?y:0,document.body.querySelector('input[name="profitAfter"]').value=null!==(m=N(T,this).crmProfitAfter)&&void 0!==m?m:0,document.body.querySelector('input[name="adsBefore"]').value=null!==(h=N(T,this).adsBefore)&&void 0!==h?h:0,document.body.querySelector('input[name="adsAfter"]').value=null!==(v=N(T,this).adsAfter)&&void 0!==v?v:0)}}])}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q(t)?t:t+""}function C(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function B(e,t){return e.get(U(e,t))}function R(e,t,n){return e.set(U(e,t),n),n}function U(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var J,z,F=new WeakMap,G=new WeakMap,L=new WeakMap,H=new WeakMap,K=new WeakMap,Q=function(){return function(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,F,void 0),C(this,G,void 0),C(this,L,void 0),C(this,H,void 0),C(this,K,void 0)},[{key:"setDays",value:function(e){return R(F,this,this.setter(e,"Days")),this}},{key:"setCrmProfitBefore",value:function(e){return R(G,this,this.setter(e,"CrmProfitBefore")),this}},{key:"setCrmProfitAfter",value:function(e){return R(L,this,this.setter(e,"CrmProfitAfter")),this}},{key:"setAdsAfter",value:function(e){return R(H,this,this.setter(e,"AdsAfter")),this}},{key:"setAdsBefore",value:function(e){return R(K,this,this.setter(e,"AdsBefore")),this}},{key:"days",get:function(){return B(F,this)}},{key:"crmProfitBefore",get:function(){return B(G,this)}},{key:"crmProfitAfter",get:function(){return B(L,this)}},{key:"adsAfter",get:function(){return B(H,this)}},{key:"adsBefore",get:function(){return B(K,this)}},{key:"toObject",value:function(){return{days:B(F,this),crmProfitBefore:B(G,this),crmProfitAfter:B(L,this),adsAfter:B(H,this),adsBefore:B(K,this)}}},{key:"setter",value:function(e,t){if(""!==(null==e?void 0:e.trim())&&Number.parseInt(null==e?void 0:e.trim())>-1)return Number.parseInt(null==e?void 0:e.trim());throw new Error("".concat(w.ERROR," ").concat(t))}}])}(),V=new M;(J=document.body.querySelector("#oldMonth")).addEventListener("click",function(e){e.preventDefault();var t=J.closest("form"),n=new FormData(t),r=Object.fromEntries(n.entries());try{var i=(new w).setSuccess(r.success).setGrossIncome(r.grossIncome).setExpense(r.expense).setOperatingProfit(r.operatingProfit).setStaticExpense(r.staticExpense).setDynamicExpense(r.dynamicExpense).setOneTimeExpense(r.oneTimeExpense).setReturnNpExpense(r.returnNpExpense).setCommissionNvExpense(r.commissionNvExpense).setReturnUpExpense(r.returnUpExpense).setAdsExpense(r.adsExpense).setCostPrice(r.costPrice);V.save(i)}catch(e){alert(e.message)}}),(z=document.body.querySelector("#newFormButton")).addEventListener("click",function(e){e.preventDefault();var t=z.closest("form"),n=new FormData(t),r=Object.fromEntries(n.entries());try{var i=(new Q).setDays(r.days).setCrmProfitBefore(r.profitBefore).setCrmProfitAfter(r.profitAfter).setAdsBefore(r.adsBefore).setAdsAfter(r.adsAfter);V.save(i,"new")}catch(e){alert(e.message)}}),V.setInputData()})();